!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.dl=t()}}(function(){return function t(n,e,r){function i(o,a){if(!e[o]){if(!n[o]){var s="function"==typeof require&&require;if(!a&&s)return s(o,!0);if(u)return u(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=e[o]={exports:{}};n[o][0].call(l.exports,function(t){var e=n[o][1][t];return i(e?e:t)},l,l.exports,t,n,e,r)}return e[o].exports}for(var u="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,n,e){var r=t("./util"),i={load:t("./import/load"),read:t("./import/read"),bin:t("./bin"),histogram:t("./histogram"),summary:t("./summary"),template:t("./template"),dateunits:t("./date-units")};r.extend(i,r),r.extend(i,t("./generate")),r.extend(i,t("./stats")),r.extend(i,t("./import/loaders")),n.exports=i},{"./bin":4,"./date-units":5,"./generate":6,"./histogram":7,"./import/load":14,"./import/loaders":15,"./import/read":16,"./stats":17,"./summary":18,"./template":19,"./util":20}],2:[function(t,n,e){},{}],3:[function(t,n,e){function r(){if(!a){a=!0;for(var t,n=o.length;n;){t=o,o=[];for(var e=-1;++e<n;)t[e]();n=o.length}a=!1}}function i(){}var u=n.exports={},o=[],a=!1;u.nextTick=function(t){o.push(t),a||setTimeout(r,0)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],4:[function(t,n,e){function r(t){t=t||{};var n,e,r,a,s,f,l,c,d=t.maxbins||15,p=t.base||10,e=Math.log(p),m=t.div||[5,2],h=t.min,v=t.max,g=v-h;if(null!=t.step)n=t.step;else if(t.steps)n=t.steps[Math.min(t.steps.length-1,i(t.steps,g/d,0,t.steps.length))];else{r=Math.ceil(Math.log(d)/e),a=t.minstep||0,n=Math.max(a,Math.pow(p,Math.round(Math.log(g)/e)-r));do n*=p;while(Math.ceil(g/n)>d);for(l=0;l<m.length;++l)f=n/m[l],f>=a&&d>=g/f&&(n=f)}return f=Math.log(n),s=f>=0?0:~~(-f/e)+1,c=Math.pow(p,-s-1),h=Math.min(h,Math.floor(h/n+c)*n),v=Math.ceil(v/n)*n,{start:h,stop:v,step:n,unit:{precision:s},value:u,index:o}}function i(t,n,e,r){for(;r>e;){var i=e+r>>>1;f.cmp(t[i],n)<0?e=i+1:r=i}return e}function u(t){return this.step*Math.floor(t/this.step+c)}function o(t){return Math.floor((t-this.start)/this.step+c)}function a(t){return this.unit.date(u.call(this,t))}function s(t){return o.call(this,this.unit.unit(t))}var f=t("./util"),l=t("./date-units"),c=1e-15;r.date=function(t){t=t||{};var n=t.min,e=t.max,i=t.maxbins||20,u=t.minbins||4,o=+e-+n;return unit=t.unit?l[t.unit]:l.find(o,u,i),bins=r({min:null!=unit.min?unit.min:unit.unit(n),max:null!=unit.max?unit.max:unit.unit(e),maxbins:i,minstep:unit.minstep,steps:unit.step}),bins.unit=unit,bins.index=s,t.raw||(bins.value=a),bins},n.exports=r},{"./date-units":5,"./util":20}],5:[function(t,n,e){var r=t("./util"),i=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]],u=[{type:"second",minstep:1,format:"%Y %b %-d %H:%M:%S.%L",date:function(t){return new Date(1e3*t)},unit:function(t){return+t/1e3}},{type:"minute",minstep:1,format:"%Y %b %-d %H:%M",date:function(t){return new Date(6e4*t)},unit:function(t){return~~(+t/6e4)}},{type:"hour",minstep:1,format:"%Y %b %-d %H:00",date:function(t){return new Date(36e5*t)},unit:function(t){return~~(+t/36e5)}},{type:"day",minstep:1,step:[1,7],format:"%Y %b %-d",date:function(t){return new Date(864e5*t)},unit:function(t){return~~(+t/864e5)}},{type:"month",minstep:1,step:[1,3,6],format:"%b %Y",date:function(t){return new Date(Date.UTC(~~(t/12),t%12,1))},unit:function(t){return r.isNumber(t)&&(t=new Date(t)),12*t.getUTCFullYear()+t.getUTCMonth()}},{type:"year",minstep:1,format:"%Y",date:function(t){return new Date(Date.UTC(t,0,1))},unit:function(t){return(r.isNumber(t)?new Date(t):t).getUTCFullYear()}}],o={type:"minuteOfHour",min:0,max:59,minstep:1,format:"%M",date:function(t){return new Date(Date.UTC(1970,0,1,0,t))},unit:function(t){return(r.isNumber(t)?new Date(t):t).getUTCMinutes()}},a={type:"hourOfDay",min:0,max:23,minstep:1,format:"%H",date:function(t){return new Date(Date.UTC(1970,0,1,t))},unit:function(t){return(r.isNumber(t)?new Date(t):t).getUTCHours()}},s={type:"dayOfWeek",min:0,max:6,step:[1],format:"%a",date:function(t){return new Date(Date.UTC(1970,0,4+t))},unit:function(t){return(r.isNumber(t)?new Date(t):t).getUTCDay()}},f={type:"dayOfMonth",min:1,max:31,step:[1],format:"%-d",date:function(t){return new Date(Date.UTC(1970,0,t))},unit:function(t){return(r.isNumber(t)?new Date(t):t).getUTCDate()}},l={type:"monthOfYear",min:0,max:11,step:[1],format:"%b",date:function(t){return new Date(Date.UTC(1970,t%12,1))},unit:function(t){return(r.isNumber(t)?new Date(t):t).getUTCMonth()}},c={second:u[0],minute:u[1],hour:u[2],day:u[3],month:u[4],year:u[5],minuteOfHour:o,hourOfDay:a,dayOfWeek:s,dayOfMonth:f,monthOfYear:l,timesteps:u};c.find=function(t,n,e){var r,o,a,s=i[0];for(r=1,o=i.length;o>r;++r)if(s=i[r],t>s[0]){if(a=t/s[0],a>e)return u[i[r-1][1]];if(a>=n)return u[s[1]]}return u[i[i.length-1][1]]},n.exports=c},{"./util":20}],6:[function(t,n,e){var r=n.exports={};r.repeat=function(t,n){var e,r=Array(n);for(e=0;n>e;++e)r[e]=t;return r},r.zeros=function(t){return r.repeat(0,t)},r.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("Infinite range");var r,i=[],u=-1;if(0>e)for(;(r=t+e*++u)>n;)i.push(r);else for(;(r=t+e*++u)<n;)i.push(r);return i},r.random={},r.random.uniform=function(t,n){void 0===n&&(n=t,t=0);var e=n-t,i=function(){return t+e*Math.random()};return i.samples=function(t){return r.zeros(t).map(i)},i},r.random.integer=function(t,n){void 0===n&&(n=t,t=0);var e=n-t,i=function(){return t+Math.floor(e*Math.random())};return i.samples=function(t){return r.zeros(t).map(i)},i},r.random.normal=function(t,n){t=t||0,n=n||1;var e=void 0,i=function(){var r,i,u=0,o=0;if(void 0!==e)return u=e,e=void 0,u;do u=2*Math.random()-1,o=2*Math.random()-1,r=u*u+o*o;while(0==r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),e=t+o*i*n,t+u*i*n};return i.samples=function(t){return r.zeros(t).map(i)},i}},{}],7:[function(t,n,e){function r(t,n){var e,r=null;if(t.types&&(r=n(t.types),a.isString(r)))return r;for(e=0;!a.isNotNull(r)&&e<t.length;++e)r=n?n(t[e]):t[e];return a.isDate(r)?"date":a.isNumber(r)?"number":"string"}function i(t,n,e){for(var r,i,u=f.range(e.start,e.stop+e.step/2,e.step).map(function(t){return{value:e.value(t),count:0}}),o=0;o<t.length;++o)if(r=n?n(t[o]):t[o],a.isNotNull(r)){if(i=e.index(r),0>i||i>=u.length||!isFinite(i))continue;u[i].count+=1}return u.bins=e,u}function u(t,n,e){var r=o.unique(t,n).counts;return a.keys(r).map(function(t){return{value:t,count:r[t]}}).sort(a.comparator(e?"-count":"+value"))}var o=t("./stats"),a=t("./util"),s=t("./bin"),f=t("./generate");n.exports=function(t,n,e){void 0!==e||a.isFunction(n)||(e=n,n=null);var f=e&&e.type||r(t,n);if("number"!==f&&"date"!==f&&"integer"!==f)return u(t,n,e&&e.sort);var l=o.extent(t,n),c=a.extend({min:l[0],max:l[1]},e);"integer"===f&&null==c.minstep&&(c.minstep=1);var d="date"===f?s.date(c):s(c);return i(t,n,d)}},{"./bin":4,"./generate":6,"./stats":17,"./util":20}],8:[function(t,n,e){(function(t){var e="undefined"!=typeof window?window.d3:"undefined"!=typeof t?t.d3:null;n.exports=function(t,n){var r=e.csv.parse(t?t.toString():t);return r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,n,e){n.exports={json:t("./json"),csv:t("./csv"),tsv:t("./tsv"),topojson:t("./topojson"),treejson:t("./treejson")}},{"./csv":8,"./json":10,"./topojson":11,"./treejson":12,"./tsv":13}],10:[function(t,n,e){var r=t("../../util");n.exports=function(t,n){var e=r.isObject(t)&&!r.isBuffer(t)?t:JSON.parse(t);return n&&n.property&&(e=r.accessor(n.property)(e)),e}},{"../../util":20}],11:[function(t,n,e){(function(e){var r=t("./json"),i="undefined"!=typeof window?window.topojson:"undefined"!=typeof e?e.topojson:null;n.exports=function(t,n){if(null==i)throw Error("TopoJSON library not loaded.");var e,u=r(t,n);if(n&&n.feature){if(e=u.objects[n.feature])return i.feature(u,e).features;throw Error("Invalid TopoJSON object: "+n.feature)}if(n&&n.mesh){if(e=u.objects[n.mesh])return[i.mesh(u,u.objects[n.mesh])];throw Error("Invalid TopoJSON object: "+n.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./json":10}],12:[function(t,n,e){function r(t,n){function e(t,i){r.push(t);var u=t[n];if(u)for(var o=0;o<u.length;++o)e(u[o],t)}n=n||"children";var r=[];return e(t,null),r.root=t,r}var i=t("./json");n.exports=function(t,n){return t=i(t,n),r(t,n&&n.children)}},{"./json":10}],13:[function(t,n,e){(function(t){var e="undefined"!=typeof window?window.d3:"undefined"!=typeof t?t.d3:null;n.exports=function(t,n){var r=e.tsv.parse(t?t.toString():t);return r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,n,e){function r(n){var e=n.url;if(!e&&n.file)return c+n.file;if(n.baseURL&&!l.test(e)&&(f.startsWith(e,"/")||"/"===n.baseURL[n.baseURL.length-1]||(e="/"+e),e=n.baseURL+e),f.isNode&&f.startsWith(e,"//")&&(e=(n.defaultProtocol||"http")+":"+e),n.domainWhiteList){var r,i;if(f.isNode){var u=t("url").parse(e);r=u.hostname,i=null}else{var o=document.createElement("a");o.href=e,""==o.host&&(o.href=o.href),r=o.hostname.toLowerCase(),i=window.location.hostname}if(i!==r){var a=n.domainWhiteList.some(function(t){var n=r.length-t.length;return t===r||n>1&&"."===r[n-1]&&r.lastIndexOf(t)===n});if(!a)throw"URL is not whitelisted: "+e}}return e}function i(t,n){var e=n||function(t){throw t};try{var r=i.sanitizeUrl(t)}catch(u){return void e(u)}return r?f.isNode?f.startsWith(r,c)?a(r.slice(c.length),n):s(r,n):o(r,n):void e("Invalid URL: "+r)}function u(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function o(t,n){function e(){var t=i.status;!t&&u(i)||t>=200&&300>t||304===t?n(null,i.responseText):n(i,null)}var r=!!n,i=new XMLHttpRequest;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(t)||(i=new XDomainRequest),r&&("onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()}),i.open("GET",t,r),i.send(),!r&&u(i)?i.responseText:void 0}function a(n,e){var r=t("fs");return e?void t("fs").readFile(n,e):r.readFileSync(n,"utf8")}function s(n,e){return e?void t("request")(n,function(t,n,r){t||200!==n.statusCode?e(t,null):e(null,r)}):t("sync-request")("GET",n).getBody()}var f=t("../util"),l=/^([A-Za-z]+:)?\/\//,c="file://";i.sanitizeUrl=r,n.exports=i},{"../util":20,fs:2,request:2,"sync-request":2,url:2}],15:[function(t,n,e){var r=t("../util"),i=t("./load"),u=t("./read");n.exports=r.keys(u.formats).reduce(function(t,n){return t[n]=function(t,e,o){r.isString(t)&&(t={url:t}),2===arguments.length&&r.isFunction(e)&&(o=e,e=void 0),e=r.extend({parse:"auto"},e),e.type=n;var a=i(t,o?function(t,n){t&&o(t,null);try{n=u(n,e)}catch(r){o(r,null)}o(null,n)}:void 0);return a?u(a,e):void 0},t},{})},{"../util":20,"./load":14,"./read":16}],16:[function(t,n,e){function r(t,n){var e=n&&n.type||"json";return t=s[e](t,n),n&&n.parse&&o(t,n.parse),t}function i(t,n){var e,r,i,u=["boolean","integer","number","date"];for(e=0;e<t.length;++e){for(i=n?n(t[e]):t[e],r=0;r<u.length;++r)a.isNotNull(i)&&!l[u[r]](i)&&(u.splice(r,1),r-=1);if(0===u.length)return"string"}return u[0]}function u(t,n){return n=n||a.keys(t[0]),n.reduce(function(n,e){var r=i(t,a.accessor(e));return f[r]&&(n[e]=r),n},{})}function o(t,n){var e,r,i,o,s,l,c=t.length;for(n="auto"===n?u(t):a.duplicate(n),e=a.keys(n),r=e.map(function(t){return f[n[t]]}),o=0,l=e.length;c>o;++o)for(i=t[o],s=0;l>s;++s)i[e[s]]=r[s](i[e[s]]);t.types=n}var a=t("../util"),s=t("./formats"),f={"boolean":a["boolean"],integer:a.number,number:a.number,date:a.date,string:a.identity},l={"boolean":function(t){return"true"===t||"false"===t||a.isBoolean(t)},integer:function(t){return l.number(t)&&(t=+t)===~~t},number:function(t){return!isNaN(+t)&&!a.isDate(t)},date:function(t){return!isNaN(Date.parse(t))}};r.type=i,r.types=u,r.formats=s,r.parse=o,n.exports=r},{"../util":20,"./formats":9}],17:[function(t,e,r){var i=t("./util"),u=t("./generate"),o={};o.unique=function(t,e,r){if(!i.isArray(t)||0===t.length)return[];r=r||[];var u,o,a={};for(o=0,n=t.length;o<n;++o)u=e?e(t[o]):t[o],u in a?a[u]+=1:(a[u]=1,r.push(u));return r.counts=a,r},o.count=function(t,e){if(!i.isArray(t)||0===t.length)return 0;var r,u,o=0;for(u=0,n=t.length;u<n;++u)r=e?e(t[u]):t[u],null!=r&&(o+=1);return o},o.count.distinct=function(t,e){if(!i.isArray(t)||0===t.length)return 0;var r,u,o={},a=0;for(u=0,n=t.length;u<n;++u)r=e?e(t[u]):t[u],r in o||(o[r]=1,a+=1);return a},o.count.nulls=function(t,e){if(!i.isArray(t)||0===t.length)return 0;var r,u,o=0;for(u=0,n=t.length;u<n;++u)r=e?e(t[u]):t[u],null==r&&(o+=1);return o},o.median=function(t,n){if(!i.isArray(t)||0===t.length)return 0;n&&(t=t.map(n)),t=t.filter(i.isNotNull).sort(i.cmp);var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2},o.quantile=function(t,n,e){void 0===e&&(e=n,n=i.identity);var r=(t.length-1)*e+1,u=Math.floor(r),o=+n(t[u-1]),a=r-u;return a?o+a*(n(t[u])-o):o},o.mean=function(t,n){if(!i.isArray(t)||0===t.length)return 0;var e,r,u,o,a=0;for(r=0,u=0;r<t.length;++r)o=n?n(t[r]):t[r],null==o||isNaN(o)||(e=o-a,a+=e/++u);return a},o.variance=function(t,n){if(!i.isArray(t)||0===t.length)return 0;var e,r,u,o,a=0,s=0;for(r=0,u=0;r<t.length;++r)o=n?n(t[r]):t[r],null==o||isNaN(o)||(e=o-a,a+=e/++u,s+=e*(o-a));return s/=u-1},o.stdev=function(t,n){return Math.sqrt(o.variance(t,n))},o.modeskew=function(t,n){var e=o.mean(t,n),r=o.median(t,n),i=o.stdev(t,n);return 0===i?0:(e-r)/i},o.extent=function(t,n){var e,r,u,o,a=t.length;for(o=0;a>o;++o)if(u=n?n(t[o]):t[o],i.isNotNull(u)){e=r=u;break}for(;a>o;++o)u=n?n(t[o]):t[o],i.isNotNull(u)&&(e>u&&(e=u),u>r&&(r=u));return[e,r]},o.extent.index=function(t,n){var e,r,u,o,a,s,f=t.length;for(s=0;f>s;++s)if(a=n?n(t[s]):t[s],i.isNotNull(a)){e=r=a,u=o=s;break}for(;f>s;++s)a=n?n(t[s]):t[s],i.isNotNull(a)&&(e>a&&(e=a,u=s),a>r&&(r=a,o=s));return[u,o]},o.dot=function(t,n,e){var r,i,u=0;if(e)for(r=0;r<t.length;++r)i=n(t[r])*e(t[r]),isNaN(i)||(u+=i);else{if(t.length!==n.length)throw Error("Array lengths must match.");for(r=0;r<t.length;++r)i=t[r]*n[r],isNaN(i)||(u+=i)}return u},o.rank=function(t,n){var e,r,u,o=t.map(function(t,e){return{idx:e,val:n?n(t):t}}).sort(i.comparator("val")),a=t.length,s=Array(a),f=-1,l={};for(e=0;a>e;++e){if(r=o[e].val,0>f&&l===r)f=e-1;else if(f>-1&&l!==r){for(u=1+(e-1+f)/2;e>f;++f)s[o[f].idx]=u;f=-1}s[o[e].idx]=e+1,l=r}if(f>-1)for(u=1+(a-1+f)/2;a>f;++f)s[o[f].idx]=u;return s},o.cor=function(t,n,e){var r=e;e=r?t.map(e):n,n=r?t.map(n):t;var i=o.dot(n,e),u=o.mean(n),a=o.mean(e),s=o.stdev(n),f=o.stdev(e),l=t.length;return(i-l*u*a)/((l-1)*s*f)},o.cor.rank=function(t,n,e){var r,i,u,a=e?o.rank(t,n):o.rank(t),s=e?o.rank(t,e):o.rank(n),f=t.length;for(r=0,i=0;f>r;++r)u=a[r]-s[r],i+=u*u;return 1-6*i/(f*(f*f-1))},o.cor.dist=function(t,n,e){var r,i,u,a,s=e?t.map(n):t,f=e?t.map(e):n,l=o.dist.mat(s),c=o.dist.mat(f),d=l.length;for(r=0,i=0,u=0,a=0;d>r;++r)i+=l[r]*l[r],u+=c[r]*c[r],a+=l[r]*c[r];return Math.sqrt(a/Math.sqrt(i*u))},o.dist=function(t,n,e,r){var u,o,a=i.isFunction(e),s=t,f=a?t:n,l=a?r:e,c=t.length,d=0;if(2===l||void 0===l){for(o=0;c>o;++o)u=a?n(s[o])-e(f[o]):s[o]-f[o],d+=u*u;return Math.sqrt(d)}for(o=0;c>o;++o)u=Math.abs(a?n(s[o])-e(f[o]):s[o]-f[o]),d+=Math.pow(u,l);return Math.pow(d,1/l)},o.dist.mat=function(t){var n,e,r,i=t.length,o=i*i,a=Array(o),s=u.zeros(i),f=0;for(e=0;i>e;++e)for(a[e*i+e]=0,r=e+1;i>r;++r)a[e*i+r]=n=Math.abs(t[e]-t[r]),a[r*i+e]=n,s[e]+=n,s[r]+=n;for(e=0;i>e;++e)f+=s[e],s[e]/=i;for(f/=o,e=0;i>e;++e)for(r=e;i>r;++r)a[e*i+r]+=f-s[e]-s[r],a[r*i+e]=a[e*i+r];return a},o.entropy=function(t,n){var e,r,i=0,u=0,o=t.length;for(e=0;o>e;++e)i+=n?n(t[e]):t[e];if(0===i)return 0;for(e=0;o>e;++e)r=(n?n(t[e]):t[e])/i,r>0&&(u+=r*Math.log(r)/Math.LN2);return-u},o.entropy.normalized=function(t,n){var e=o.entropy(t,n);return 0===e?0:e*Math.LN2/Math.log(t.length)},o.entropy.mutual=function(t,n,e,r){var i,u,o,a=r?t.map(n):t,s=r?t.map(e):n,f=r?t.map(r):e,l={},c={},d=0,p=f.length,m=0;for(i=0;p>i;++i)l[a[i]]=0,c[s[i]]=0;for(i=0;p>i;++i)l[a[i]]+=f[i],c[s[i]]+=f[i],d+=f[i];for(u=1/(d*Math.LN2),i=0;p>i;++i)0!==f[i]&&(o=d*f[i]/(l[a[i]]*c[s[i]]),m+=f[i]*u*Math.log(o));return m},o.profile=function(t,n){var e,r,u,a,s,f=0,l=0,d=0,p=null,m=null,h=0,v=[],g={};for(u=0,c=0;u<t.length;++u)a=n?n(t[u]):t[u],g[a]=a in g?g[a]+1:(d+=1,1),i.isNotNull(a)&&((null===p||p>a)&&(p=a),(null===m||a>m)&&(m=a),s="string"==typeof a?a.length:a,e=s-f,f+=e/++l,h+=e*(s-f),v.push(s));return h/=l-1,r=Math.sqrt(h),v.sort(i.cmp),{unique:g,count:l,nulls:t.length-l,distinct:d,min:p,max:m,mean:f,stdev:r,median:a=o.quantile(v,.5),modeskew:0===r?0:(f-a)/r,iqr:[o.quantile(v,.25),o.quantile(v,.75)]}},e.exports=o},{"./generate":6,"./util":20}],18:[function(t,n,e){function r(){var t=this,n=[];return t.forEach(function(t){n.push("----- Field: '"+t.field+"' -----"),n.push("string"==typeof t.min||t.distinct<10?u(t):i(t)),n.push("")}),n.join("\n")}function i(t){return["distinct: "+t.distinct,"nulls:    "+t.nulls,"min:      "+t.min,"max:      "+t.max,"median:   "+t.median,"mean:     "+t.mean,"stdev:    "+t.stdev,"modeskew: "+t.modeskew].join("\n")}function u(t){var n=["distinct: "+t.distinct,"nulls:    "+t.nulls,"top values: "],e=t.unique,r=o.keys(e).sort(function(t,n){return e[n]-e[t]}).slice(0,6).map(function(t){return" '"+t+"' ("+e[t]+")"});return n.concat(r).join("\n")}var o=t("./util"),a=t("./stats");n.exports=function(t,n){if(null==t||0===t.length)return null;n=n||o.keys(t[0]);var e=n.map(function(n){var e=a.profile(t,o.accessor(n));return e.field=n,e});return e.toString=r,e}},{"./stats":17,"./util":20}],19:[function(t,n,e){(function(e){function r(t){var n=i(t,"d");n="var __t; return "+n+";";try{return new Function("d",n).bind(l)}catch(e){throw e.source=n,e}}function i(t,n){n=n||"obj";var e=0,r="'",i=c;return t.replace(i,function(i,a,s){return r+=t.slice(e,s).replace(p,o),e=s+i.length,a&&(r+="'\n+((__t=("+u(a,n)+"))==null?'':__t)+\n'"),i}),r+"'"}function u(t,n){function e(t){return t=t||"",u?(u=!1,o="String("+o+")"+t):o+=t,o}var r=t.split("|"),i=r.shift().trim(),u=!0,o=s.field(i).map(s.str).join("][");o=n+"["+o+"]";for(var l=0;l<r.length;++l){var c,d,p,m=r[l],h=null;switch((c=m.indexOf(":"))>0&&(m=m.slice(0,c),h=r[l].slice(c+1).split(",").map(function(t){return t.trim()})),m=m.trim()){case"length":e(".length");break;case"lower":e(".toLowerCase()");break;case"upper":e(".toUpperCase()");break;case"lower-locale":e(".toLocaleLowerCase()");break;case"upper-locale":e(".toLocaleUpperCase()");break;case"trim":e(".trim()");break;case"left":d=s.number(h[0]),e(".slice(0,"+d+")");break;case"right":d=s.number(h[0]),e(".slice(-"+d+")");break;case"mid":d=s.number(h[0]),p=d+s.number(h[1]),e(".slice(+"+d+","+p+")");break;case"slice":d=s.number(h[0]),e(".slice("+d+(h.length>1?","+s.number(h[1]):"")+")");break;case"truncate":d=s.number(h[0]),p=h[1],p="left"!==p&&"middle"!==p&&"center"!==p?"right":p,o="this.truncate("+e()+","+d+',"'+p+'")';break;case"number":d=a(h[0],f.format),u=!1,o="this.formats["+d+"]("+o+")";break;case"time":d=a(h[0],f.time.format),u=!1,o="this.formats["+d+"]("+o+")";break;default:throw Error("Unrecognized template filter: "+m)}}return o}function o(t){return"\\"+d[t]}function a(t,n){if(!("'"===t[0]&&"'"===t[t.length-1]||'"'!==t[0]&&'"'===t[t.length-1]))throw Error("Format pattern must be quoted: "+t);if(t=t.slice(1,-1),!l.format_map[t]){var e=n(t),r=l.formats.length;l.formats.push(e),l.format_map[t]=r}return l.format_map[t]}var s=t("./util"),f="undefined"!=typeof window?window.d3:"undefined"!=typeof e?e.d3:null,l={formats:[],format_map:{},truncate:s.truncate};n.exports=r,r.clearFormatCache=function(){l.formats=[],l.format_map={}};var c=/\{\{(.+?)\}\}|$/g,d={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},p=/\\|'|\r|\n|\u2028|\u2029/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":20}],20:[function(t,n,e){(function(e){function r(t){return t.replace(s,"$1\\'")}function i(t,n,e){var r=0,i=t.split(f);return t=e?(i=i.reverse()).filter(function(t){return r+=t.length,n>=r}).reverse():i.filter(function(t){return r+=t.length,n>=r}),t.length?t.join("").trim():i[0].slice(0,n)}var u=t("buffer").Buffer,o=n.exports={};o.isNode="undefined"!=typeof e&&"undefined"!=typeof e.stderr;var a=Object.prototype.toString;o.isObject=function(t){return t===Object(t)},o.isFunction=function(t){return"[object Function]"==a.call(t)},o.isString=function(t){return"[object String]"==a.call(t)},o.isArray=Array.isArray||function(t){return"[object Array]"==a.call(t)},o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.isBoolean=function(t){return"[object Boolean]"==a.call(t)},o.isDate=function(t){return"[object Date]"==a.call(t)},o.isNotNull=function(t){return null!=t&&("number"!=typeof t?!0:!isNaN(t))},o.isBuffer=u&&u.isBuffer||o["false"],o.number=function(t){return null==t?null:+t},o["boolean"]=function(t){return null==t?null:"false"===t?!1:!!t},o.date=function(t){return null==t?null:Date.parse(t)},o.array=function(t){return null!=t?o.isArray(t)?t:[t]:[]},o.str=function(t){return o.isArray(t)?"["+t.map(o.str)+"]":o.isObject(t)?JSON.stringify(t):o.isString(t)?"'"+r(t)+"'":t};var s=/(^|[^\\])'/g;o.identity=function(t){return t},o["true"]=function(){return!0},o["false"]=function(){return!1},o.duplicate=function(t){return JSON.parse(JSON.stringify(t))},o.equal=function(t,n){return JSON.stringify(t)===JSON.stringify(n)},o.extend=function(t){for(var n,e,r=1,i=arguments.length;i>r;++r){n=arguments[r];for(e in n)t[e]=n[e]}return t},o.keys=function(t){var n,e=[];for(n in t)e.push(n);return e},o.vals=function(t){var n,e=[];for(n in t)e.push(t[n]);return e},o.toMap=function(t){return t.reduce(function(t,n){return t[n]=1,t},{})},o.keystr=function(t){return t.join("|")},o.field=function(t){return t.split("\\.").map(function(t){return t.split(".")}).reduce(function(t,n){return t.length&&(t[t.length-1]+="."+n.shift()),t.push.apply(t,n),t},[])},o.accessor=function(t){var n;return o.isFunction(t)||null==t?t:o.isString(t)&&(n=o.field(t)).length>1?function(t){return n.reduce(function(t,n){return t[n]},t)}:function(n){return n[t]}},o.mutator=function(t){var n;return o.isString(t)&&(n=o.field(t)).length>1?function(t,e){for(var r=0;r<n.length-1;++r)t=t[n[r]];t[n[r]]=e}:function(n,e){n[t]=e}},o.comparator=function(t){var n=[];return void 0===t&&(t=[]),t=o.array(t).map(function(t){var e=1;return"-"===t[0]?(e=-1,t=t.slice(1)):"+"===t[0]&&(e=1,t=t.slice(1)),n.push(e),o.accessor(t)}),function(e,r){var i,u,o,a,s;for(i=0,u=t.length;u>i;++i){if(o=t[i],a=o(e),s=o(r),s>a)return-1*n[i];if(a>s)return n[i]}return 0}},o.cmp=function(t,n){return n>t?-1:t>n?1:t>=n?0:null===t&&null===n?0:null===t?-1:null===n?1:0/0},o.numcmp=function(t,n){return t-n},o.stablesort=function(t,n,e){var r=t.reduce(function(t,n,r){return t[e(n)]=r,t},{});return t.sort(function(t,i){var u=n(t),o=n(i);return o>u?-1:u>o?1:r[e(t)]-r[e(i)]}),t},o.startsWith=String.prototype.startsWith?function(t,n){return t.startsWith(n)}:function(t,n){return 0===t.lastIndexOf(n,0)},o.truncate=function(t,n,e,r,u){var o=t.length;if(n>=o)return t;u=void 0!==u?String(u):"…";var a=Math.max(0,n-u.length);switch(e){case"left":return u+(r?i(t,a,1):t.slice(o-a));case"middle":case"center":var s=Math.ceil(a/2),f=Math.floor(a/2);return(r?i(t,s):t.slice(0,s))+u+(r?i(t,f,1):t.slice(o-f));default:return(r?i(t,a):t.slice(0,a))+u}};var f=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,t("_process"))},{_process:3,buffer:2}]},{},[1])(1)});