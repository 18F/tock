# Dependency management

[:arrow_left: Back to Tock Documentation](../docs)

## Python

Tock uses [Pipenv] to manage development and production dependencies.
In development and continuous integration the python environment is
established with `pipenv install --dev`. To accommodate third-party tools
which do not yet support [Pipenv] a `requirements.txt` file, containing
only production dependencies, is generated by [Pipenv] and included in
the repository.

Development and production dependencies can be updated locally with:

```sh
pipenv update --dev
pipenv lock --requirements > requirements.txt
```

## Javascript

Tock uses [npm] to manage javascript dependencies.

Dependencies can be updated locally with:

```sh
npm update
```

## Preserving dependency artifacts

All files generated by updating dependencies, including but not limited to the
following files, should be committed to the repository. These files should be
treated as binary files so they aren't diffed by Git. Add any files meeting this
description to the `.gitattributes` file at the root of the repository with the
`binary` flag.

- `package-lock.json`
- `requirements.txt`
- `Pipfile.lock`

[Pipenv]: https://docs.pipenv.org/
[npm]: https://www.npmjs.com
